<?php $PAGE_SETTINGS=array();$PAGE_SETTINGS["CurrentDirectory"]="../";require_once($PAGE_SETTINGS["CurrentDirectory"]."api/Engine.php");require_once($PAGE_SETTINGS["CurrentDirectory"]."api/CurlAPI.php");require_once($PAGE_SETTINGS["CurrentDirectory"]."api/SystemConstants.php");$PAGE_SETTINGS["Engine"]=new Engine("refresh");$PAGE_SETTINGS["Engine"]->checkSession($PAGE_SETTINGS["CurrentDirectory"]);class MasterfileTemplate{protected $controller="MasterfilesController";protected $method="render";protected $params=[];public function __construct(){$url=$this->parseUrl();require_once "./dependencies/".$this->controller.".php";$this->controller=new MasterfileController($url);$this->params=$url?array_values($url):[];if(method_exists($this->controller,$this->method)&&is_callable(array($this->controller,$this->method))){call_user_func_array([$this->controller,$this->method],$this->params);}}public function parseUrl(){if(isset($_GET['url'])){return $url=explode('/',filter_var(rtrim($_GET['url'],'/'),FILTER_SANITIZE_URL));}}}?>